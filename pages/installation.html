

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Installation &mdash; MDMC 0.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Simulations" href="simulations.html" />
    <link rel="prev" title="1. Introduction" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MDMC
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#non-container-installation">2.1. Non-container installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docker">2.2. Docker</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#docker-and-jupyter-notebooks">2.2.1. Docker and Jupyter notebooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#docker-and-gui">2.2.2. Docker and GUI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#singularity">2.3. Singularity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#source-code">2.4. Source Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="simulations.html">3. Simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameter-refinement.html">4. Parameter Refinement</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/building-a-universe.html">Building an MDMC Universe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/read-configurations.html">Reading atoms from configuration files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/applying-a-forcefield.html">Applying a <code class="docutils literal notranslate"><span class="pre">ForceField</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/solvating-a-universe.html">Solvating an MDMC Universe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/molecular-visualization.html">Molecular Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/running-a-simulation.html">Running a Simulation in MDMC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/selecting-fitting-parameters.html">Selecting Fitting Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/running-a-refinement.html">Running a Refinement</a></li>
</ul>
<p class="caption"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules/common.html">common</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/control.html">control</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/gui.html">gui</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/md.html">MD</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/readers.html">readers</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/refinement.html">refinement</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/trajectory_analysis.html">trajectory_analysis</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MDMC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">2. </span>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/pages/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="installation">
<span id="installation-label"></span><h1><span class="section-number">2. </span>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>You can install MDMC in broadly two ways:</p>
<ol class="arabic simple">
<li><p>Non-container option: directly onto your favourite hardware and OS, e.g. Mac
or Linux laptop or HPC hardware.</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p><strong>However</strong> this requires that one or more molecular dynamics engines
(e.g. <a class="reference external" href="https://lammps.sandia.gov">LAMMPS</a>) are already installed.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Container option: run MDMC in a container that already has all relevant
external dependencies pre-installed, including molecular dynamics engines</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Two container technologies are supported: Docker and Singularity. Docker has
more widespread usage, but Singularity is targeted for HPC hardware. These
two container technologies are similar to operate, and once you are familiar
with one, switching to the other should be relatively straightforward.</p></li>
</ul>
</div></blockquote>
<div class="section" id="non-container-installation">
<h2><span class="section-number">2.1. </span>Non-container installation<a class="headerlink" href="#non-container-installation" title="Permalink to this headline">¶</a></h2>
<p>Ensure you have Git, Python 3, pip and relevant molecular dynamics engines
already installed (e.g. <a class="reference external" href="https://lammps.sandia.gov">LAMMPS</a>).</p>
<p>MDMC is then installed using pip and Git:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install git+https://github.com/MDMCproject/MDMCv0.2_pilot#egg<span class="o">=</span>MDMC
</pre></div>
</div>
<p>This will install MDMC and all Python dependencies; this does not include the
molecular dynamics engines.</p>
<p><strong>Note1: While MDMC is in a private repository, the above</strong> <cite>pip install</cite>
<strong>require username and password</strong></p>
<p><strong>Note2: When MDMC is made available on</strong> <a class="reference external" href="https://pypi.org">PyPI</a> <strong>, the
installation will simply be:</strong> <cite>pip install MDMC</cite></p>
</div>
<div class="section" id="docker">
<h2><span class="section-number">2.2. </span>Docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h2>
<p>A Docker container that includes all the external dependencies MDMC needs
can be downloaded.</p>
<p>Instructions on how to install Docker for Windows, Mac OS X, and Linux
distributions is <a class="reference external" href="https://docs.docker.com/install/">here</a>. If you experience
problems with this installation, perhaps due to your specific OS version or
otherwise, please do not hesitate to ask us questions about this.</p>
<p>To run (start) a Docker container with MDMC external dependencies, type in
command window:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker run -it mdmc/mdmc:latest
</pre></div>
</div>
<p>The optional <cite>:latest</cite> part of <cite>mdmc/mdmc:latest</cite> pulls down the latest version
of the MDMC dependencies container. These are not expected to change frequently.
Other choices may be available in the future e.g. containers which only have
specific molecular dynamics engines installed.</p>
<p>Note this MDMC Docker container does not currently include the MDMC code. Hence
for now please follow the the pip install command shown in section above.</p>
<p><strong>Note: Once the MDMC repository is made public, the containers will come with
the latest stable version of MDMC preinstalled (i.e. not just the
dependencies).</strong></p>
<div class="section" id="docker-and-jupyter-notebooks">
<span id="docker-jupyter-label"></span><h3><span class="section-number">2.2.1. </span>Docker and Jupyter notebooks<a class="headerlink" href="#docker-and-jupyter-notebooks" title="Permalink to this headline">¶</a></h3>
<p>To run a Jupyter notebook from a Docker container, run the container with an
open port 8888:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker run -it -p <span class="m">8888</span>:8888 mdmc/mdmc:latest
</pre></div>
</div>
<p>Jupyter can then be run using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jupyter notebook --ip <span class="m">0</span>.0.0.0 --no-browser
</pre></div>
</div>
<p>When running as root, <code class="code docutils literal notranslate"><span class="pre">--allow-root</span></code> must be added to the above command.
The Jupyter notebook can then be accessed by copying the provided URL into a
browser on the local machine (please use the URL that includes 127.0.0.1).
<strong>Recommended</strong>: When finished using Jupyter, in terminal where the Jupyter
server was started, please press ctrl-c and then answer “y” to shutdown the
Jupyter server; this will exit Jupyter gracefully and help avoid conflict when
running this setup again.</p>
</div>
<div class="section" id="docker-and-gui">
<h3><span class="section-number">2.2.2. </span>Docker and GUI<a class="headerlink" href="#docker-and-gui" title="Permalink to this headline">¶</a></h3>
<p>By default, Docker is not configured to enable GUI visualisation.  To enable
this it is possible to use the X11 system, described below.  To also enable this
with Jupyter, add <cite>-p 8888:8888</cite> to commands below - see
<a class="reference internal" href="#docker-jupyter-label"><span class="std std-ref">Docker and Jupyter notebooks</span></a>.</p>
<p><strong>Windows</strong></p>
<p>To use X11, either of the following can be installed:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://sourceforge.net/projects/vcxsrv/">VcXsrv</a> - After installation, In
Extra Settings select “Native opengl” and “Disable access control”.</p></li>
<li><p><a class="reference external" href="https://sourceforge.net/projects/xming/">Xming</a> - After installation, run
XLaunch to configure Xming. Use the provided defaults except in the
“Specify parameter settings” window, select “No Access Control”.
Optionally, use the generated <cite>config.xlaunch</cite> file when re-running Xming.</p></li>
</ul>
<p>Next, open a standard Windows command prompt and type <code class="code docutils literal notranslate"><span class="pre">ipconfig</span></code> to get
the IP address (if e.g. using wireless then look for Wireless LAN adapter Wi-Fi
and IPv4 Address) and use it to replace the two letters “IP” in the following
command:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>docker run -it -e DISPLAY=IP:0.0 -v /tmp/.X11-unix:/tmp/.X11-unix mdmc/mdmc:latest
</pre></div>
</div>
<p><strong>Mac OS X</strong></p>
<p>To use X11, <a class="reference external" href="https://www.xquartz.org">xQuartz</a> can be installed.  In the
xQuartz Preferences -&gt; Security select “Allow connections from network clients”.
Then within the xQuartz terminal, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">ip</span><span class="o">=</span><span class="k">$(</span>ipconfig getifaddr en0<span class="k">)</span>
xhost + <span class="nv">$ip</span>
docker run -it -e <span class="nv">DISPLAY</span><span class="o">=</span><span class="nv">$ip</span>:0 -v /tmp/.X11-unix:/tmp/.X11-unix mdmc/mdmc:latest
</pre></div>
</div>
<p><strong>Linux</strong></p>
<p>As X11 is built-in to Linux, no additional software needs to be installed.
Simply run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker run -it -e DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix mdmc/mdmc:latest
</pre></div>
</div>
</div>
</div>
<div class="section" id="singularity">
<h2><span class="section-number">2.3. </span>Singularity<a class="headerlink" href="#singularity" title="Permalink to this headline">¶</a></h2>
<p>Singularity is an alternative to Docker which has been designed specifically for
high performance computing (HPC), with the majority of HPC centres providing
support for Singularity. If Singularity is installed, run MDMC in parallel
using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mpirun -np <span class="m">12</span> singularity <span class="nb">exec</span> mdmc.sif python3 script.py
</pre></div>
</div>
<p>where “script.py” is the name of the script which will run MDMC.  In this
example MDMC will be split over 12 processes.</p>
</div>
<div class="section" id="source-code">
<h2><span class="section-number">2.4. </span>Source Code<a class="headerlink" href="#source-code" title="Permalink to this headline">¶</a></h2>
<p>Source code is available from <a class="reference external" href="https://github.com/MDMCproject/MDMCv0.2_pilot">https://github.com/MDMCproject/MDMCv0.2_pilot</a> and
can be obtained using git with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/MDMCproject/MDMCv0.2_pilot.git
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="simulations.html" class="btn btn-neutral float-right" title="3. Simulations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="introduction.html" class="btn btn-neutral float-left" title="1. Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>