<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Containers &mdash; MDMC 0.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=10f1778b"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Diátaxis" href="diataxis.html" />
    <link rel="prev" title="Coding Standards" href="coding_standards.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            MDMC
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">2. Contributing to MDMC</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/Argon-a-to-z.html">Argon A-to-Z</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/equilibrating-a-simulation.html">Equilibrating simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/running-a-refinement.html">Running a Refinement (in detail)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/understanding-units.html">Understanding scientific units in MDMC</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-to</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../how-to/use-MDMC.html">How to use MDMC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how-to/installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../reference/api/modules.html">MDMC</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Explanation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../explanation/explanation.html">Explanation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../overview.html">Developer Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="coding_standards.html">Coding Standards</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Containers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-are-containers-and-why-do-we-use-them">What are containers and why do we use them?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-docker-image">The Docker image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-two-stage-docker-image">The two-stage Docker image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="diataxis.html">Diátaxis</a></li>
<li class="toctree-l2"><a class="reference internal" href="management.html">Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how-to/build-containers.html">Building the Docker image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how-to/units.html">Using units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how-to/vscode.html">Debugging inside Containers</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MDMC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../overview.html">Developer Documentation</a></li>
      <li class="breadcrumb-item active">Containers</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/developer/explanation/containers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="containers">
<span id="dev-doc-container-label"></span><h1>Containers<a class="headerlink" href="#containers" title="Link to this heading"></a></h1>
<section id="what-are-containers-and-why-do-we-use-them">
<h2>What are containers and why do we use them?<a class="headerlink" href="#what-are-containers-and-why-do-we-use-them" title="Link to this heading"></a></h2>
<p>You can find a lot of information about containers on the internet, which may be overwhelming.
Here containers are explained, in very simple terms, by an analogy, and in the context of how we use containers.</p>
<p>Say our software is a hamster, and other people would like to have our hamster in their house.
However, letting a hamster loose in an arbitrary house can cause problems!</p>
<p>We have two options. Either:</p>
<blockquote>
<div><ul class="simple">
<li><p>attempt to train the hamster to behave properly in any given house. Or;</p></li>
<li><p>build a tiny house (a hamster cage), which contains everything the hamster needs
to live and function well (water, the correct food, etc.) and give anyone who wants
the hamster the hamster <em>and</em> its cage, so the hamster will be in the same conditions
no matter whose house it’s in.</p></li>
</ul>
</div></blockquote>
<p>The container is the hamster cage; a sort of ‘mini computer inside the computer’.
For MDMC in particular, this container runs an appropriate Linux environment and
contains all our software dependencies (such as Python, various libraries, and molecular dynamics engine).
An example of why we use containers is because the molecular dynamics engine (LAMMPS)
can be complex to install for an average user, particularly with the settings and version needed by MDMC.
By using a container, we can develop MDMC exclusively for one environment, while still having it
function as intended on other environments/operating systems.</p>
<p>A container ‘image’ (see the next section) is a blueprint that the container software
uses to build a container. When you use MDMC in a container,
the docker-compose file is pulling a copy of the container image
from the internet and uses it to create the container for MDMC on your machine.</p>
</section>
<section id="the-docker-image">
<h2>The Docker image<a class="headerlink" href="#the-docker-image" title="Link to this heading"></a></h2>
<p>The ‘regular’ way that users can access MDMC is via <a class="reference external" href="https://www.docker.com/">Docker</a> .
The Docker container also lies at the core of our Singularity container;
the Singularity container is built from the Docker image.
This is mainly for ease of development, as we only need to update one image.</p>
<p>Our Docker image is on Docker Hub as <code class="docutils literal notranslate"><span class="pre">mdmc/mdmc</span></code>. We use three tags for development (as of this writing):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mdmc/mdmc:latest</span></code>; the version is used by e.g. docker-compose to install MDMC. This is the ‘production’ image.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mdmc/mdmc:experimental</span></code>; if you are testing manual changes to the image, it’s useful
to push it to this tag so you can swap it in and out vs other images, as well as let other developers use it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mdmc/mdmc:ci-[branch]</span></code>; when Github Actions automatically builds a new image (see below),
it is pushed to this tag, where [branch] is the name of the branch the image was built on.
When the branch is merged, this image will automatically be pushed to mdmc/mdmc:latest.</p></li>
</ul>
</section>
<section id="the-two-stage-docker-image">
<h2>The two-stage Docker image<a class="headerlink" href="#the-two-stage-docker-image" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">mdmc/mdmc</span></code> Docker image uses a Docker image called <code class="docutils literal notranslate"><span class="pre">mdmc/engines</span></code> as a base.
<code class="docutils literal notranslate"><span class="pre">mdmc/engines</span></code> contains the MD engines and other slow-building software; for example,
LAMMPS takes roughly 30-50 minutes to build. This means if we split the image in two,
we don’t need to rebuild LAMMPS every time, say, Numpy needs to be updated. This drastically
reduces build times for new containers.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="coding_standards.html" class="btn btn-neutral float-left" title="Coding Standards" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="diataxis.html" class="btn btn-neutral float-right" title="Diátaxis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>